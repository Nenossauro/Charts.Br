<!DOCTYPE html>
<html class="html" lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../static/css/style-create.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
    <script src="../static/js/other.js"></script>
    <title>Charts.create</title>
</head>
<body>
    <!--   N A V    B A R    -->
    <nav>
        <div class="logo">
            <img src="../static/charts.logo.png">
        </div>  
        <div class="end-navbar-div">
            <div class="logout-btn">
            <form action="/logout" method="POST">
                    <input type="submit" id="btn" value="Sair">
                </form>
            </div>
            <div class="user-img" id="">  
            </div>
        </div>
    </nav>
    
    <!--   N A V    B A R      H R   -->
    <div class="navbar-divide-hr"></div>

    <!--   P O P - U P   D O   P E R F I L   -->
    <div class="config-popup">
        <a href="/home/home.html">Home</a>
        <a href="/editarperfil/editarperfil.html">Meu perfil</a>
        <a href="#">Minhas charts</a>
        <a href="/adicionarinfo/adicionarinfo.html">Responder perguntas</a>
        <a href="#">Modo escuro</a>
    </div>

    <!--   M A I N   -->
    <main>
            <section>
            
            <!--   P A R T E   E S Q U E R D A   D O   F O R M U L Á R I O   -->
            <div class="left-inner-section-div">
                <!--   S P A N   -->
                <div class="left-inner-section-div-span">
                    <span>NOVA CHART ✏️</span>
                </div>
                <!--   T I T L E   -->
                <div class="input-title">
                    <span>Título</span>
                    <form action="/inserir-chart" method="POST">

                    <input name = "txttitulo" type="text" placeholder="Coloque o título da sua Chart aqui.">
                </div>

                <!--   D A T A   D A   C H A R T   -->
                <div class="input-date">
                    <span class="input-date-span">Data</span>
                    <input name="txtdata"type="date" id="input-date">
                    <div class="today-date-checkbox">
                        <input name="datanow" id="checkbox-date" type="checkbox">
                        <span>Usar a data de hoje</span>
                    </div>
                </div>
                <!--   D E S C R I Ç Ã O   -->
                <div class="input-description">
                    <span>Descrição &#40;Limite: 1000&#41;</span>
                    <textarea name="txtdescricao" maxlength="1000"></textarea>
                </div>
            </div>
            <!--   P A R T E   D I R E I T A   D O   F O R M U L Á R I O   -->
            <div class="right-inner-section-div">
                <!--   S P A N   -->
                <div class="right-inner-section-div-span">
                    <span>Agora você vai por a mão na massa e escolher quais tópicos vão ser correlacionados para criar sua Chart
                    </span>
                    
                </div>

                <!--   D I V S   D O S    S E L E C T S   -->
                <div class="select-div">

                    <!--   P R I M E I R O   I N P U T   -->
                    <div class="input-first">
                        <span>1° tópico</span>
                        <div class="select-btn-group">
                            <select name="first-select" id="first-select">
                                <option value="">Selecione um tópico...</option>

                                {%for topic in topics%}
                                <option value="{{topic}}">{{topic}}</option>
                                {%endfor%}
                            </select>
                        </div>
                    </div>

                    <!--   S E G U N D O   I N P U T   -->
                    <div class="input-second">
                        <span>2° tópico</span>
                        <div class="select-btn-group">
                            <select name="second-select" id="second-select">

                                <option value="">Selecione um tópico...</option>
                                <option value="simple">Chart simples...</option>
                                {%for topic in topics%}
                                <option value="{{topic}}">{{topic}}</option>
                                {%endfor%}
                            </select>
                        <div id="togglePlusBtn1">
                            <span class="icon"><i class="fa fa-plus"></i></span>
                        </div>
                        </div>
                    </div>

                    <!--   T E R C E I R O   I N P U T   -->
                    <div class="input-third">
                        <span>3° tópico</span>
                        <div class="select-btn-group">
                            <select name="third-select" id = "third-select">
                            </select>
                        <div id="togglePlusBtn2">
                            <span class="icon"><i class="fa fa-plus"></i></span>
                        </div>
                        </div>
                    </div>

                    <!--   Q U A R T O   I N P U T   -->
                    <div class="input-fourth">
                        <span>4° tópico</span>
                        <div class="select-btn-group">
                            <select id = "fourht-select">
                                <option value="">Selecione um tópico...</option>
                                {%for topic in topics%}
                                <option value="{{topic}}">{{topic}}</option>
                                {%endfor%}
                            </select>
                        </div>
                    </div>
                </div>
 
            </div>
            <div class="create-btn">
                <input type="submit" id="btn" value="CRIAR">
            </form>
        </div>
        </section>
        </form>
        
        
    </main>

</body>
<script>
    $(document).ready(function () {
            // Event listener para mudanças no segundo select
        $("#second-select").on("change", function () {
        var selectedValue = $(this).val();
        var thirdSelect = $("#third-select");

        // Limpa as opções anteriores do terceiro select
        thirdSelect.empty();

        // Com base na seleção do segundo select, atualiza as opções do terceiro select
        if (selectedValue === "Cor de cabelo") {
                // Se "cor de cabelo" estiver selecionado, adicione as opções correspondentes
                thirdSelect.append('<option value="{{sub_topic[1][0]}}">{{sub_topic[1][0]}}</option>');
                thirdSelect.append('<option value="{{sub_topic[1][1]}}">{{sub_topic[1][1]}}</option>');
                thirdSelect.append('<option value="{{sub_topic[1][2]}}">{{sub_topic[1][2]}}</option>');
                thirdSelect.append('<option value="{{sub_topic[1][3]}}">{{sub_topic[1][3]}}</option>');
        } else if (selectedValue === "Estado onde mora") {
                // Se "estado" estiver selecionado, adicione as opções correspondentes
            thirdSelect.append('<option value="{{sub_topic[2][0]}}">{{sub_topic[2][0]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][1]}}">{{sub_topic[2][1]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][2]}}">{{sub_topic[2][2]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][3]}}">{{sub_topic[2][3]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][4]}}">{{sub_topic[2][4]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][5]}}">{{sub_topic[2][5]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][6]}}">{{sub_topic[2][6]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][7]}}">{{sub_topic[2][7]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][8]}}">{{sub_topic[2][8]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][9]}}">{{sub_topic[2][9]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][10]}}">{{sub_topic[2][10]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][11]}}">{{sub_topic[2][11]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][12]}}">{{sub_topic[2][12]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][13]}}">{{sub_topic[2][13]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][14]}}">{{sub_topic[2][14]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][15]}}">{{sub_topic[2][15]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][16]}}">{{sub_topic[2][16]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][17]}}">{{sub_topic[2][17]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][18]}}">{{sub_topic[2][18]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][19]}}">{{sub_topic[2][19]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][20]}}">{{sub_topic[2][20]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][21]}}">{{sub_topic[2][21]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][22]}}">{{sub_topic[2][22]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][23]}}">{{sub_topic[2][23]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][24]}}">{{sub_topic[2][24]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][25]}}">{{sub_topic[2][25]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[2][26]}}">{{sub_topic[2][26]}}</option>');
        } else if (selectedValue === "Numero do calçado"){
            // Se nenhuma opção válida estiver selecionada, exiba uma opção padrão
            thirdSelect.append('<option value="{{sub_topic[0][0]}}">{{sub_topic[0][0]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][1]}}">{{sub_topic[0][1]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][2]}}">{{sub_topic[0][2]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][3]}}">{{sub_topic[0][3]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][4]}}">{{sub_topic[0][4]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][5]}}">{{sub_topic[0][5]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][6]}}">{{sub_topic[0][6]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][7]}}">{{sub_topic[0][7]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][8]}}">{{sub_topic[0][8]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][9]}}">{{sub_topic[0][9]}}</option>');
            thirdSelect.append('<option value="{{sub_topic[0][10]}}">{{sub_topic[0][10]}}</option>');

        } 
        else {
                // Se nenhuma opção válida estiver selecionada, exiba uma opção padrão
                thirdSelect.append('<option value="">Selecione um tópico...</option>');
        }
        });
    });
</script>
</html>